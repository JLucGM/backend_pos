import{r as i,j as d}from"./app-BHQVSHMc.js";import{r as M}from"./index-P_K5OC9U.js";import{S as $}from"./index-CH28IhmL.js";import{a as g}from"./utils-Dj5kSLHa.js";var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],S=k.reduce((e,t)=>{const r=i.forwardRef((a,c)=>{const{asChild:o,...n}=a,s=o?$:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...n,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function U(e,t){e&&M.flushSync(()=>e.dispatchEvent(t))}function W(e,t){const r=i.createContext(t),a=o=>{const{children:n,...s}=o,u=i.useMemo(()=>s,Object.values(s));return d.jsx(r.Provider,{value:u,children:n})};a.displayName=e+"Provider";function c(o){const n=i.useContext(r);if(n)return n;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[a,c]}function F(e,t=[]){let r=[];function a(o,n){const s=i.createContext(n),u=r.length;r=[...r,n];const l=m=>{var A;const{scope:f,children:x,...v}=m,p=((A=f==null?void 0:f[e])==null?void 0:A[u])||s,I=i.useMemo(()=>v,Object.values(v));return d.jsx(p.Provider,{value:I,children:x})};l.displayName=o+"Provider";function h(m,f){var p;const x=((p=f==null?void 0:f[e])==null?void 0:p[u])||s,v=i.useContext(x);if(v)return v;if(n!==void 0)return n;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[l,h]}const c=()=>{const o=r.map(n=>i.createContext(n));return function(s){const u=(s==null?void 0:s[e])||o;return i.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return c.scopeName=e,[a,T(c,...t)]}function T(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(o){const n=a.reduce((s,{useScope:u,scopeName:l})=>{const m=u(o)[`__scope${l}`];return{...s,...m}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}var C=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{};function B(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}var w="Avatar",[D,X]=F(w),[O,y]=D(w),N=i.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[c,o]=i.useState("idle");return d.jsx(O,{scope:r,imageLoadingStatus:c,onImageLoadingStatusChange:o,children:d.jsx(S.span,{...a,ref:t})})});N.displayName=w;var b="AvatarImage",j=i.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:c=()=>{},...o}=e,n=y(b,r),s=q(a,o.referrerPolicy),u=B(l=>{c(l),n.onImageLoadingStatusChange(l)});return C(()=>{s!=="idle"&&u(s)},[s,u]),s==="loaded"?d.jsx(S.img,{...o,ref:t,src:a}):null});j.displayName=b;var E="AvatarFallback",P=i.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...c}=e,o=y(E,r),[n,s]=i.useState(a===void 0);return i.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>s(!0),a);return()=>window.clearTimeout(u)}},[a]),n&&o.imageLoadingStatus!=="loaded"?d.jsx(S.span,{...c,ref:t}):null});P.displayName=E;function q(e,t){const[r,a]=i.useState("idle");return C(()=>{if(!e){a("error");return}let c=!0;const o=new window.Image,n=s=>()=>{c&&a(s)};return a("loading"),o.onload=n("loaded"),o.onerror=n("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{c=!1}},[e,t]),r}var _=N,L=j,R=P;const G=i.forwardRef(({className:e,...t},r)=>d.jsx(_,{ref:r,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));G.displayName=_.displayName;const H=i.forwardRef(({className:e,...t},r)=>d.jsx(L,{ref:r,className:g("aspect-square h-full w-full object-cover",e),...t}));H.displayName=L.displayName;const K=i.forwardRef(({className:e,...t},r)=>d.jsx(R,{ref:r,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));K.displayName=R.displayName;export{G as A,S as P,C as a,W as b,F as c,U as d,H as e,K as f,B as u};
