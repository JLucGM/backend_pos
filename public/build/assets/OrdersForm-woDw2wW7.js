import{j as e}from"./app-BHQVSHMc.js";import{I as r}from"./InputError-Dm5kGV6s.js";import{I as m}from"./InputLabel-BnstG7UT.js";import{T as p}from"./TextInput-B3-u0qF_.js";import x from"./div-section-CYAPF2s0.js";import{S as g,c as v}from"./react-select.esm-DnPQgaCw.js";import{T as y,a as N,b as S,c as a,d as n,e as T,f as l}from"./table-R88juMwv.js";import"./index-P_K5OC9U.js";import"./floating-ui.dom-D83--fCt.js";import"./utils-Dj5kSLHa.js";function z({data:c,orders:t="",paymentMethods:u,setData:d,errors:o,isDisabled:f=!1}){const h=s=>{const i={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(s).toLocaleDateString("es-ES",i)},j=u.map(s=>({value:s.id,label:s.payment_method_name})),_=s=>{d("payments_method_id",s.value)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"col-span-full md:col-span-2",children:e.jsxs(x,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pedido recibido"}),h(t.created_at)]}),e.jsx("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Actualizado"}),h(t.updated_at)]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"status",value:"Status"}),e.jsx(p,{id:"status",type:"text",name:"status",value:c.status,className:"mt-1 block w-full",onChange:s=>d("status",s.target.value)}),e.jsx(r,{message:o.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"direction_delivery",value:"Dirección de Entrega"}),e.jsx(p,{id:"direction_delivery",type:"text",name:"direction_delivery",value:c.direction_delivery||"",className:"mt-1 block w-full",onChange:s=>d("direction_delivery",s.target.value)}),e.jsx(r,{message:o.direction_delivery,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"payments_method_id",value:"Método de Pago"}),e.jsx(g,{id:"payments_method_id",name:"payments_method_id",options:j,value:j.find(s=>s.value===c.payments_method_id),onChange:_,styles:v,isDisabled:f}),e.jsx(r,{message:o.payments_method_id,className:"mt-2"})]})]})}),e.jsx("div",{className:"col-span-full md:col-span-1 ",children:e.jsx(x,{children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:"Cliente"}),t.client_id?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.client.client_name}),e.jsx("p",{children:t.client.client_identification}),e.jsx("p",{children:t.client.client_phone})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.user.name}),e.jsx("p",{children:t.user.identification}),e.jsx("p",{children:t.user.phone})]})]})})}),e.jsx(x,{className:"col-span-full",children:e.jsxs(y,{children:[e.jsx(N,{children:"Detalles de la Orden"}),e.jsx(S,{children:e.jsxs(a,{children:[e.jsx(n,{children:"Producto"}),e.jsx(n,{children:"Cantidad"}),e.jsx(n,{children:"Precio"}),e.jsx(n,{children:"Subtotal"})]})}),e.jsx(T,{children:t.order_items&&t.order_items.length>0?t.order_items.map(s=>e.jsxs(a,{children:[e.jsxs(l,{className:"capitalize flex flex-col",children:[e.jsx("p",{className:"font-bold",children:s.name_product}),s.product_details?Object.entries(JSON.parse(s.product_details)).map(([i,b])=>e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",b]},i)):null]}),e.jsx(l,{children:s.quantity}),e.jsxs(l,{children:["$",s.price_product]}),e.jsxs(l,{children:["$",s.subtotal]})]},s.id)):e.jsx(a,{children:e.jsx(l,{colSpan:"4",className:"text-center",children:"No hay detalles de la orden disponibles."})})}),e.jsxs("tfoot",{children:[e.jsxs(a,{children:[e.jsx(l,{colSpan:"3",className:"text-right font-bold",children:"Subtotal"}),e.jsxs(l,{className:"font-bold",children:["$",t.subtotal]})]}),e.jsxs(a,{children:[e.jsx(l,{colSpan:"3",className:"text-right font-bold",children:"Descuento"}),e.jsxs(l,{className:"font-bold",children:["$",t.totaldiscounts]})]}),e.jsxs(a,{children:[e.jsx(l,{colSpan:"3",className:"text-right font-bold",children:"Total"}),e.jsxs(l,{className:"font-bold",children:["$",t.total]})]})]})]})})]})})}export{z as default};
